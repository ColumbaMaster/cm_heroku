<% provide(:title, t(:label_endereco)) %>
<% provide :head_tags %>

<h4><strong><%= t(:label_endereco) %></strong></h4>

<div class="row">
  <div class="col-md-6 ml-md-auto mr-md-auto">
  
    <%= form_for @usuario, url: salvar_endereco_usuario_path, method: "post" do |f| %>
      <%= render 'shared/error_messages', obj: @usuario %>
    
      <div class="form-group">
        <%= f.label t(:label_endereco) %>
        <%= f.text_field :logradouro, class: 'form-control validar', required: true, size: 100, autofocus: true, placeholder: (t :msg_info_endereco) %>
      </div>
      
      <%= f.hidden_field :lat %>
      <%= f.hidden_field :lng %>
  
      <div class="form-group">
        <%= f.label t :label_latitude %>
        <div class="row linha-1-4">
          <div class="form-group col-sm-3">
            <%= f.select(:lat_card, options_for_select(["S", "N"], "S"), {include_blank: false}, {class: 'form-control'}) %>
          </div>
          <div class="form-group col-sm-3">
            <%= f.number_field :lat_deg, value: number_with_precision(f.object.lat_deg, precision: 0), class: 'form-control', required: true, min: -90, max: 90, step: 1 %>
          </div>
          <div class="form-group col-sm-3">
            <%= f.number_field :lat_min, value: number_with_precision(f.object.lat_min, precision: 0), class: 'form-control', required: true, min: 0, max: 99, step: 1 %>
          </div>
          <div class="form-group col-sm-3">
            <%= f.number_field :lat_seg, class: 'form-control', required: true, min: 0, max: 999, step: 0.1 %>
          </div>
        </div>
      </div>
  
      <div class="form-group">
        <%= f.label t :label_longitude %>
        <div class="row linha-1-4">
          <div class="form-group col-sm-3">
            <%= f.select(:lng_card, options_for_select(["W", "E"], "W"), {include_blank: false}, {class: 'form-control'}) %>
          </div>
          <div class="form-group col-sm-3">
            <%= f.number_field :lng_deg, value: number_with_precision(f.object.lng_deg, precision: 0), class: 'form-control', required: true, min: -180, max: 180, step: 1 %>
          </div>
          <div class="form-group col-sm-3">
            <%= f.number_field :lng_min, value: number_with_precision(f.object.lng_min, precision: 0), class: 'form-control', required: true, min: 0, max: 99, step: 1 %>
          </div>
          <div class="form-group col-sm-3">
            <%= f.number_field :lng_seg, class: 'form-control', required: true, min: 0, max: 999, step: 0.1 %>
          </div>
        </div>
      </div>
      
      <div class="form-group">
        <%= link_to show_modal_usuarios_path(id: @usuario, acao: MODAL_USU_COORD),  id: "link_modal_mapa", class: botao_link, remote: true, :title => t(:label_coordenadas), :rel => 'tooltip', "data-placement" => "bottom" do %>
          <span class="fa fa-globe"></span> <%= t :label_coordenadas %>
        <% end %>
      </div>
      
      <%= f.submit t(@botao), class: botao_estilo %>
    <% end %>
  </div>
</div>
<br />
<% if @usuario.activated? %>
  <%= link_to @usuario, class: botao_link do %>
    <span class="fa fa-caret-left"></span> <%= t :label_cancelar %>
  <% end %>
<% end %>

<div id="modal">
</div>
